[build]

FIX: Corrected base directory to point to the nested 'ecowatch/frontend' folder

base    = "ecowatch/frontend"

Functions Directory: Now relative to the new base (which is correct for the deployment)

functions = "functions"

Build Command:

command = "npm run build"

Publish Directory:

publish = "build"

Configuration for Functions Runtime Environment

[functions]
node_bundler = "esbuild"

CRITICAL STEP: API Endpoint Rewrites (Functions are resolved relative to the base)

[[redirects]]
from = "/api/v1/environment/current"
to = "/.netlify/functions/get-current"
status = 200

[[redirects]]
from = "/api/v1/environment/forecast"
to = "/.netlify/functions/get-forecast"
status = 200

OPTIONAL: Single Page App (SPA) Fallback for React routing

[[redirects]]
from = "/*"
to = "/index.html"
status = 200
